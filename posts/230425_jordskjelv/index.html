<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Torodd F. Ottestad">
<meta name="dcterms.date" content="2023-04-25">

<title>Torodd F. Ottestad - Jordskjelvpython</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Ingen treff",
    "search-matching-documents-text": "passande dokument",
    "search-copy-link-title": "Kopier lenke til søk",
    "search-hide-matches-text": "Skjul resterande treff",
    "search-more-match-text": "treff til i dokumentet",
    "search-more-matches-text": "fleire treff i dokumentet",
    "search-clear-button-title": "Tøm",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Avbryt",
    "search-submit-button-title": "Søk",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-744F7V6HLG"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-744F7V6HLG', { 'anonymize_ip': true});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Torodd F. Ottestad</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">Om meg</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/lektorodd/lektorodd.github.io"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://bsky.app/profile/torodd.bsky.social"> <i class="bi bi-clouds-fill" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.youtube.com/channel/UCWfDrIj3Mq3Niz77HJ6cTNg"> <i class="bi bi-youtube" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/in/torodd-ottestad-b2583a59"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss-fill" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Jordskjelvpython</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">modellering</div>
                <div class="quarto-category">programmering</div>
                <div class="quarto-category">tips</div>
                <div class="quarto-category">geofag</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Forfattar</div>
      <div class="quarto-title-meta-contents">
               <p>Torodd F. Ottestad </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Publisert</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 25, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Innhald</h2>
   
  <ul>
  <li><a href="#jordskjelvprogrammering-i-geofag-1" id="toc-jordskjelvprogrammering-i-geofag-1" class="nav-link active" data-scroll-target="#jordskjelvprogrammering-i-geofag-1">Jordskjelvprogrammering i geofag 1</a>
  <ul class="collapse">
  <li><a href="#laste-ned-data" id="toc-laste-ned-data" class="nav-link" data-scroll-target="#laste-ned-data">Laste ned data</a></li>
  <li><a href="#innlesing-av-data" id="toc-innlesing-av-data" class="nav-link" data-scroll-target="#innlesing-av-data">Innlesing av data</a></li>
  <li><a href="#sortere-i-datamaterialet" id="toc-sortere-i-datamaterialet" class="nav-link" data-scroll-target="#sortere-i-datamaterialet">Sortere i datamaterialet</a>
  <ul class="collapse">
  <li><a href="#visuell-oversikt-over-tabellen" id="toc-visuell-oversikt-over-tabellen" class="nav-link" data-scroll-target="#visuell-oversikt-over-tabellen">Visuell oversikt over tabellen</a></li>
  </ul></li>
  <li><a href="#geodataframe" id="toc-geodataframe" class="nav-link" data-scroll-target="#geodataframe">GeoDataFrame</a></li>
  <li><a href="#plotting" id="toc-plotting" class="nav-link" data-scroll-target="#plotting">Plotting</a>
  <ul class="collapse">
  <li><a href="#variable-storleik-på-markørane" id="toc-variable-storleik-på-markørane" class="nav-link" data-scroll-target="#variable-storleik-på-markørane">Variable storleik på markørane</a></li>
  </ul></li>
  <li><a href="#avgrense-område" id="toc-avgrense-område" class="nav-link" data-scroll-target="#avgrense-område">Avgrense område</a>
  <ul class="collapse">
  <li><a href="#plotte-avgrensa-område" id="toc-plotte-avgrensa-område" class="nav-link" data-scroll-target="#plotte-avgrensa-område">Plotte avgrensa område</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="jordskjelvprogrammering-i-geofag-1" class="level1">
<h1>Jordskjelvprogrammering i geofag 1</h1>
<p>I dette opplegget tek me utgangspunkt i store mengdar ekte jordskjelvdata. Desse vil me systematisera og visualisera ved hjelp av biblioteket <code>geopandas</code> i Python <span class="emoji" data-emoji="snake">🐍</span> <br> Døme på ein av figurane me kjem til å laga ser du under.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="jordskjelv_stillehavet_djupne.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%"></p>
<figcaption><span class="emoji" data-emoji="camera">📷</span> Døme på figur</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Merk
</div>
</div>
<div class="callout-body-container callout-body">
<p>For å gjennomføra denne øvinga treng ein biblioteket <code>geopandas</code>. Viss ein nyttar <code>anaconda</code> eller <code>miniconda</code> så er det enklaste å laga eit eige <code>enviroment</code> for å ikkje klussa til den «vanlege» python-installasjonen. Oppskrifta du finn <a href="https://geopandas.org/en/stable/getting_started/install.html">her</a>, funkar fint!</p>
<p><strong>OBS:</strong> For å installera Jupyter Lab kan du endre siste linja til</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource {shell} number-lines code-with-copy"><code class="sourceCode"><span id="cb1-1"><a href="#cb1-1"></a>conda install python=3 geopandas jupyterlab</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<section id="laste-ned-data" class="level2">
<h2 class="anchored" data-anchor-id="laste-ned-data">Laste ned data</h2>
<p>Først treng me eit datasett. USGS har ein eigen «jordskjelvkatalog» der ein kan søka etter og lasta ned jordskjelvdata. Katalogen finn du <a href="https://earthquake.usgs.gov/earthquakes/search/">her</a>.</p>
<p>Det meste ein kan lasta ned er 20 000 jordskjelv, så me må gjera nokre val i innstillingane for å få dekka eit lengre tidsrom.</p>
<p><strong>Basic options</strong> <br> <strong><code>Magnitude</code></strong> bør ha <code>Minimum</code> sett til 5,5. <br> <strong><code>Date &amp; Time</code></strong> sin <code>Start</code> bør vera så tidleg som mogleg (gjerne 1950 berre for å ta litt i…) <br> <strong><code>Geographic Region</code></strong> står på <code>World</code></p>
<p><strong>Output options</strong> <br> <strong><code>Format</code></strong> <span class="emoji" data-emoji="arrow_right">➡️</span> <code>csv</code> <br> <strong><code>Order By</code></strong> <span class="emoji" data-emoji="arrow_right">➡️</span> <code>Time - Newest First</code> <br> <strong><code>Limit Results</code></strong> bør ha <code>Number of Events</code> sett til 20000 (for å unngå feilmelding om for mange treff)</p>
<p>Den nedlasta fila bør ligga i same mappe som Jupyter-notatboka (eller <code>.py</code>-fila). For å gjera det enklare for oss sjølv kan me òg endra namn på fila til <code>skjelv.csv</code> eller liknande.</p>
<p><span class="emoji" data-emoji="green_circle">🟢</span> Eg tilrår på det sterkaste å gjera denne type programmering/utforsking i ei Jupyter-notatbok</p>
</section>
<section id="innlesing-av-data" class="level2">
<h2 class="anchored" data-anchor-id="innlesing-av-data">Innlesing av data</h2>
<p>Me startar med å importere naudsynte bibliotek.</p>
<div id="cell-5" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Bruker så <code>pandas</code> for å lesa inn <code>csv</code>-fila.</p>
<div id="cell-7" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a>skjelv <span class="op">=</span> pd.read_csv(<span class="st">"skjelv.csv"</span>)</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Undersøker korleis den innleste tabellen ser ut</p>
<div id="cell-9" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a>skjelv.shape</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>(20000, 22)</code></pre>
</div>
</div>
<p><code>(20000, 22)</code> betyr altså at me her har ein tabell med 20 000 rader og 22 kolonner. Ser på dei fem første radene i tabellen.</p>
<div id="cell-11" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a>skjelv.head()</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">depth</th>
<th data-quarto-table-cell-role="th">mag</th>
<th data-quarto-table-cell-role="th">magType</th>
<th data-quarto-table-cell-role="th">nst</th>
<th data-quarto-table-cell-role="th">gap</th>
<th data-quarto-table-cell-role="th">dmin</th>
<th data-quarto-table-cell-role="th">rms</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">updated</th>
<th data-quarto-table-cell-role="th">place</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">horizontalError</th>
<th data-quarto-table-cell-role="th">depthError</th>
<th data-quarto-table-cell-role="th">magError</th>
<th data-quarto-table-cell-role="th">magNst</th>
<th data-quarto-table-cell-role="th">status</th>
<th data-quarto-table-cell-role="th">locationSource</th>
<th data-quarto-table-cell-role="th">magSource</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2023-04-24T20:00:55.086Z</td>
<td>-0.7810</td>
<td>98.5339</td>
<td>15.462</td>
<td>7.1</td>
<td>mww</td>
<td>70.0</td>
<td>58.0</td>
<td>2.282</td>
<td>0.91</td>
<td>...</td>
<td>2023-04-25T07:46:47.683Z</td>
<td>170 km SSE of Teluk Dalam, Indonesia</td>
<td>earthquake</td>
<td>7.35</td>
<td>3.944</td>
<td>0.060</td>
<td>27.0</td>
<td>reviewed</td>
<td>us</td>
<td>us</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2023-04-24T02:17:56.596Z</td>
<td>-60.3893</td>
<td>-26.1923</td>
<td>10.000</td>
<td>5.6</td>
<td>mb</td>
<td>80.0</td>
<td>68.0</td>
<td>19.029</td>
<td>0.60</td>
<td>...</td>
<td>2023-04-25T02:21:51.035Z</td>
<td>South Sandwich Islands region</td>
<td>earthquake</td>
<td>11.61</td>
<td>1.868</td>
<td>0.054</td>
<td>120.0</td>
<td>reviewed</td>
<td>us</td>
<td>us</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2023-04-24T00:41:55.460Z</td>
<td>-29.9676</td>
<td>-177.8264</td>
<td>43.063</td>
<td>7.1</td>
<td>mww</td>
<td>126.0</td>
<td>23.0</td>
<td>0.708</td>
<td>0.50</td>
<td>...</td>
<td>2023-04-25T00:46:45.081Z</td>
<td>NaN</td>
<td>earthquake</td>
<td>8.37</td>
<td>4.305</td>
<td>0.048</td>
<td>42.0</td>
<td>reviewed</td>
<td>us</td>
<td>us</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2023-04-22T21:17:45.986Z</td>
<td>-0.9589</td>
<td>98.4839</td>
<td>10.000</td>
<td>5.7</td>
<td>mww</td>
<td>124.0</td>
<td>53.0</td>
<td>2.424</td>
<td>0.74</td>
<td>...</td>
<td>2023-04-23T21:21:04.014Z</td>
<td>170 km NW of Tuapejat, Indonesia</td>
<td>earthquake</td>
<td>7.18</td>
<td>1.806</td>
<td>0.060</td>
<td>27.0</td>
<td>reviewed</td>
<td>us</td>
<td>us</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2023-04-22T17:09:45.448Z</td>
<td>-0.7645</td>
<td>98.5780</td>
<td>27.385</td>
<td>5.8</td>
<td>mww</td>
<td>178.0</td>
<td>34.0</td>
<td>2.286</td>
<td>0.80</td>
<td>...</td>
<td>2023-04-23T17:12:44.119Z</td>
<td>Kepulauan Batu, Indonesia</td>
<td>earthquake</td>
<td>7.17</td>
<td>3.202</td>
<td>0.054</td>
<td>33.0</td>
<td>reviewed</td>
<td>us</td>
<td>us</td>
</tr>
</tbody>
</table>

<p>5 rows × 22 columns</p>
</div>
</div>
</div>
</div>
<p>Me kan sjå litt nærare på dei statistikk frå dei numeriske kolonnene med å bruka <code>describe()</code></p>
<div id="cell-13" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a>skjelv.describe()</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">depth</th>
<th data-quarto-table-cell-role="th">mag</th>
<th data-quarto-table-cell-role="th">nst</th>
<th data-quarto-table-cell-role="th">gap</th>
<th data-quarto-table-cell-role="th">dmin</th>
<th data-quarto-table-cell-role="th">rms</th>
<th data-quarto-table-cell-role="th">horizontalError</th>
<th data-quarto-table-cell-role="th">depthError</th>
<th data-quarto-table-cell-role="th">magError</th>
<th data-quarto-table-cell-role="th">magNst</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>20000.000000</td>
<td>20000.000000</td>
<td>20000.000000</td>
<td>20000.000000</td>
<td>7472.000000</td>
<td>10086.000000</td>
<td>4430.000000</td>
<td>19759.000000</td>
<td>3972.000000</td>
<td>7242.000000</td>
<td>3136.000000</td>
<td>4912.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>-0.308104</td>
<td>33.349754</td>
<td>70.485546</td>
<td>5.873034</td>
<td>267.023555</td>
<td>43.510441</td>
<td>4.347339</td>
<td>0.998922</td>
<td>7.115259</td>
<td>3.991525</td>
<td>0.059346</td>
<td>49.099959</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>30.063869</td>
<td>126.560024</td>
<td>127.629767</td>
<td>0.420587</td>
<td>160.409087</td>
<td>28.936826</td>
<td>5.492807</td>
<td>0.203466</td>
<td>2.309055</td>
<td>7.902934</td>
<td>0.031396</td>
<td>62.611998</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>-77.080000</td>
<td>-179.997000</td>
<td>-3.000000</td>
<td>5.500000</td>
<td>0.000000</td>
<td>8.000000</td>
<td>0.008000</td>
<td>0.040000</td>
<td>0.085000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>-20.436500</td>
<td>-82.415450</td>
<td>10.000000</td>
<td>5.600000</td>
<td>138.000000</td>
<td>24.000000</td>
<td>1.167250</td>
<td>0.880000</td>
<td>5.800000</td>
<td>1.800000</td>
<td>0.046000</td>
<td>19.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>-4.496500</td>
<td>96.297000</td>
<td>31.700000</td>
<td>5.700000</td>
<td>242.000000</td>
<td>36.000000</td>
<td>2.535000</td>
<td>1.000000</td>
<td>7.100000</td>
<td>2.000000</td>
<td>0.055000</td>
<td>33.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>22.324750</td>
<td>143.512750</td>
<td>50.300000</td>
<td>6.000000</td>
<td>372.000000</td>
<td>54.000000</td>
<td>5.144000</td>
<td>1.110000</td>
<td>8.500000</td>
<td>4.400000</td>
<td>0.068000</td>
<td>56.250000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>86.922900</td>
<td>179.998100</td>
<td>700.000000</td>
<td>9.100000</td>
<td>934.000000</td>
<td>313.000000</td>
<td>39.730000</td>
<td>2.820000</td>
<td>15.800000</td>
<td>569.200000</td>
<td>0.700000</td>
<td>941.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>I kolonna <code>mag</code> (styrken) ser me at både gjennomsnittet (5,87) og medianen (5,7) er ganske låge. Hugs på at den lågaste verdien her er 5,5. Tala viser oss at 50% av dei 20000 skjelva er mellom 5,5 og 5,7 i styrke. Me ser òg at gjennomsnittsdjupna på skjelva er ca. 70,5 km (<code>depth</code>).</p>
<p>Som me har sett over har tabellen mange kolonner, ikkje alle er like relevante for oss. Me kan sortera ut dei me treng vidare. Skriv først ut ei liste med kolonnenamn for å få oversikt over alle kolonnene.</p>
<div id="cell-15" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1"></a>skjelv.columns</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>Index(['time', 'latitude', 'longitude', 'depth', 'mag', 'magType', 'nst',
       'gap', 'dmin', 'rms', 'net', 'id', 'updated', 'place', 'type',
       'horizontalError', 'depthError', 'magError', 'magNst', 'status',
       'locationSource', 'magSource'],
      dtype='object')</code></pre>
</div>
</div>
</section>
<section id="sortere-i-datamaterialet" class="level2">
<h2 class="anchored" data-anchor-id="sortere-i-datamaterialet">Sortere i datamaterialet</h2>
<p>Det første me gjer er å luka ut dei radene som ikkje er jordskjelv. I koden under tek me kun vare på dei radene der <code>type</code> er <code>earthquake</code>.</p>
<div id="cell-17" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a>skjelv <span class="op">=</span> skjelv[skjelv[<span class="st">"type"</span>] <span class="op">==</span> <span class="st">"earthquake"</span>]</span>
<span id="cb10-2"><a href="#cb10-2"></a>skjelv.shape</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>(19890, 22)</code></pre>
</div>
</div>
<p>Me ser at tabellen vart nokre rader kortare.</p>
<p>Plukker ut dei mest relevante kolonnene. Dato, lengde- og breddegrad, djupne og styrke:</p>
<div id="cell-19" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1"></a>skjelv <span class="op">=</span> skjelv[[<span class="st">"time"</span>, <span class="st">"latitude"</span>, <span class="st">"longitude"</span>, <span class="st">"depth"</span>, <span class="st">"mag"</span>]]</span>
<span id="cb12-2"><a href="#cb12-2"></a>skjelv.head()</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">depth</th>
<th data-quarto-table-cell-role="th">mag</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2023-04-24T20:00:55.086Z</td>
<td>-0.7810</td>
<td>98.5339</td>
<td>15.462</td>
<td>7.1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2023-04-24T02:17:56.596Z</td>
<td>-60.3893</td>
<td>-26.1923</td>
<td>10.000</td>
<td>5.6</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2023-04-24T00:41:55.460Z</td>
<td>-29.9676</td>
<td>-177.8264</td>
<td>43.063</td>
<td>7.1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2023-04-22T21:17:45.986Z</td>
<td>-0.9589</td>
<td>98.4839</td>
<td>10.000</td>
<td>5.7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2023-04-22T17:09:45.448Z</td>
<td>-0.7645</td>
<td>98.5780</td>
<td>27.385</td>
<td>5.8</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>Sjekkar for ordens skuld kva tid det første skjelvet er frå. Ser på dei siste 5 radene i tabellen.</p>
<div id="cell-21" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1"></a>skjelv.tail(<span class="dv">5</span>)</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">depth</th>
<th data-quarto-table-cell-role="th">mag</th>
<th data-quarto-table-cell-role="th">geometry</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">19994</td>
<td>1982-08-06T20:46:13.910Z</td>
<td>-8.319</td>
<td>120.416</td>
<td>49.9</td>
<td>5.5</td>
<td>POINT (120.41600 -8.31900)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19995</td>
<td>1982-08-06T20:40:52.200Z</td>
<td>-8.375</td>
<td>120.577</td>
<td>45.7</td>
<td>5.9</td>
<td>POINT (120.57700 -8.37500)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19996</td>
<td>1982-08-05T20:42:07.300Z</td>
<td>-12.347</td>
<td>166.247</td>
<td>20.0</td>
<td>5.5</td>
<td>POINT (166.24700 -12.34700)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19997</td>
<td>1982-08-05T20:32:52.950Z</td>
<td>-12.597</td>
<td>165.931</td>
<td>30.7</td>
<td>7.0</td>
<td>POINT (165.93100 -12.59700)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19999</td>
<td>1982-08-05T07:28:08.810Z</td>
<td>-5.767</td>
<td>146.567</td>
<td>113.0</td>
<td>5.6</td>
<td>POINT (146.56700 -5.76700)</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<section id="visuell-oversikt-over-tabellen" class="level3">
<h3 class="anchored" data-anchor-id="visuell-oversikt-over-tabellen">Visuell oversikt over tabellen</h3>
<p>For å sjå (og presentera) fordelinga av styrke og djupne kan me t.d. laga heilt enkle boksplot. Startar med eit for styrken <span class="emoji" data-emoji="muscle">💪</span></p>
<div id="cell-23" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1"></a>boksplot <span class="op">=</span> skjelv.boxplot(column <span class="op">=</span> <span class="st">"mag"</span>, figsize <span class="op">=</span> (<span class="dv">6</span>,<span class="dv">6</span>), color <span class="op">=</span> <span class="st">"red"</span>)</span>
<span id="cb14-2"><a href="#cb14-2"></a>plt.title(<span class="st">"Boksplott over styrkene på skjelva"</span>, fontsize <span class="op">=</span> <span class="dv">20</span>)</span>
<span id="cb14-3"><a href="#cb14-3"></a>plt.ylabel(<span class="st">"Magnitude"</span>, fontsize <span class="op">=</span> <span class="dv">16</span>)</span>
<span id="cb14-4"><a href="#cb14-4"></a>plt.show()</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/cell-11-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Figuren her viser at jordskjelva i all hovudsak er mellom 5,5 og ca. 6,6. Dei sterkare skjelva er så få at dei vert sett på som avvik (<em>outliers</em>).</p>
<div id="cell-25" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1"></a>boksplot <span class="op">=</span> skjelv.boxplot(column <span class="op">=</span> <span class="st">"depth"</span>, figsize <span class="op">=</span> (<span class="dv">6</span>,<span class="dv">6</span>), color <span class="op">=</span> <span class="st">"red"</span>)</span>
<span id="cb15-2"><a href="#cb15-2"></a>plt.title(<span class="st">"Boksplott over djupne på skjelva"</span>, fontsize <span class="op">=</span> <span class="dv">20</span>)</span>
<span id="cb15-3"><a href="#cb15-3"></a>plt.ylabel(<span class="st">"Djupne (km)"</span>, fontsize <span class="op">=</span> <span class="dv">16</span>)</span>
<span id="cb15-4"><a href="#cb15-4"></a>plt.show()</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/cell-12-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Figuren for djune viser oss at dei aller fleste skjelva er mellom 0 og 110 km djupe.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tips til meir visualisering <span class="emoji" data-emoji="eyes">👀</span>
</div>
</div>
<div class="callout-body-container callout-body">
<p>Det går an å prøva seg fram med ulike visualiseringar, feks. histogram/stolpediagram. Eventuelt kan ein sjekka ut <code>seaborn</code> <a href="https://seaborn.pydata.org"><em>dokumentasjon her</em></a> og laga enno fleire fancy figurar, feks. fiolinplot eller andre fine oversikter.</p>
</div>
</div>
</section>
</section>
<section id="geodataframe" class="level2">
<h2 class="anchored" data-anchor-id="geodataframe">GeoDataFrame</h2>
<p>Først lagar me ei <code>geodataframe</code> frå vår opprinnelege <code>dataframe</code> (skjelv). Forskjellen på desse to er at førstnevnte har ei eigen kolonne <code>geometry</code>, som er punkt, linjer eller flater. I dette tilfelet punkt, som <code>geopandas</code> finn i lengde- og breiddegrad-kolonnene.</p>
<div id="cell-28" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1"></a>skjelv_gdf <span class="op">=</span> gpd.GeoDataFrame(</span>
<span id="cb16-2"><a href="#cb16-2"></a>    skjelv, </span>
<span id="cb16-3"><a href="#cb16-3"></a>    geometry <span class="op">=</span> gpd.points_from_xy(</span>
<span id="cb16-4"><a href="#cb16-4"></a>        skjelv.longitude, </span>
<span id="cb16-5"><a href="#cb16-5"></a>        skjelv.latitude</span>
<span id="cb16-6"><a href="#cb16-6"></a>        )</span>
<span id="cb16-7"><a href="#cb16-7"></a>    )</span>
<span id="cb16-8"><a href="#cb16-8"></a>skjelv_gdf.head()</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">depth</th>
<th data-quarto-table-cell-role="th">mag</th>
<th data-quarto-table-cell-role="th">geometry</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2023-04-24T20:00:55.086Z</td>
<td>-0.7810</td>
<td>98.5339</td>
<td>15.462</td>
<td>7.1</td>
<td>POINT (98.53390 -0.78100)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2023-04-24T02:17:56.596Z</td>
<td>-60.3893</td>
<td>-26.1923</td>
<td>10.000</td>
<td>5.6</td>
<td>POINT (-26.19230 -60.38930)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2023-04-24T00:41:55.460Z</td>
<td>-29.9676</td>
<td>-177.8264</td>
<td>43.063</td>
<td>7.1</td>
<td>POINT (-177.82640 -29.96760)</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2023-04-22T21:17:45.986Z</td>
<td>-0.9589</td>
<td>98.4839</td>
<td>10.000</td>
<td>5.7</td>
<td>POINT (98.48390 -0.95890)</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2023-04-22T17:09:45.448Z</td>
<td>-0.7645</td>
<td>98.5780</td>
<td>27.385</td>
<td>5.8</td>
<td>POINT (98.57800 -0.76450)</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="plotting" class="level2">
<h2 class="anchored" data-anchor-id="plotting">Plotting</h2>
<p>No er alt klart for å starta med plotting. Me lagar eit <em>basekart</em> av verda og plottar jordskjelva oppå dette.</p>
<div id="cell-30" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># bakgrunnskart - data</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>world <span class="op">=</span> gpd.read_file(gpd.datasets.get_path(<span class="st">"naturalearth_lowres"</span>))</span>
<span id="cb17-3"><a href="#cb17-3"></a></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="co"># plotte bakgrunnskart</span></span>
<span id="cb17-5"><a href="#cb17-5"></a>base <span class="op">=</span> world.plot(color <span class="op">=</span> <span class="st">"linen"</span>, </span>
<span id="cb17-6"><a href="#cb17-6"></a>                  edgecolor <span class="op">=</span> <span class="st">"gray"</span>, </span>
<span id="cb17-7"><a href="#cb17-7"></a>                  figsize <span class="op">=</span> (<span class="dv">15</span>, <span class="dv">8</span>)</span>
<span id="cb17-8"><a href="#cb17-8"></a>                 )</span>
<span id="cb17-9"><a href="#cb17-9"></a></span>
<span id="cb17-10"><a href="#cb17-10"></a>skjelv_gdf.plot(ax <span class="op">=</span> base, markersize <span class="op">=</span> <span class="dv">2</span>) </span>
<span id="cb17-11"><a href="#cb17-11"></a></span>
<span id="cb17-12"><a href="#cb17-12"></a>plt.title(<span class="st">"Jordskjelv sterkare enn 5,5 frå 1982 - 2023"</span>, fontsize <span class="op">=</span> <span class="dv">18</span>)</span>
<span id="cb17-13"><a href="#cb17-13"></a>plt.show()</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/cell-14-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<section id="variable-storleik-på-markørane" class="level3">
<h3 class="anchored" data-anchor-id="variable-storleik-på-markørane">Variable storleik på markørane</h3>
<p>For å få fram ulikskapar mellom skjelva kan me plotta punkta slik at dei vert større di sterkare skjelva dei representerer er. Skjelva er frå 5.5 til 9.1 i styrke. Legg til ei ny kolonne i tabellen for storleik på markør. For at den skal gå frå 1 og oppover, trekk me 4,5 frå verdien til <code>mag</code>.</p>
<div id="cell-32" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1"></a>skjelv_gdf[<span class="st">"markør"</span>] <span class="op">=</span> skjelv_gdf[<span class="st">"mag"</span>] <span class="op">-</span> <span class="fl">4.5</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>skjelv_gdf.head()</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">depth</th>
<th data-quarto-table-cell-role="th">mag</th>
<th data-quarto-table-cell-role="th">geometry</th>
<th data-quarto-table-cell-role="th">markør</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2023-04-24T20:00:55.086Z</td>
<td>-0.7810</td>
<td>98.5339</td>
<td>15.462</td>
<td>7.1</td>
<td>POINT (98.53390 -0.78100)</td>
<td>2.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2023-04-24T02:17:56.596Z</td>
<td>-60.3893</td>
<td>-26.1923</td>
<td>10.000</td>
<td>5.6</td>
<td>POINT (-26.19230 -60.38930)</td>
<td>1.1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2023-04-24T00:41:55.460Z</td>
<td>-29.9676</td>
<td>-177.8264</td>
<td>43.063</td>
<td>7.1</td>
<td>POINT (-177.82640 -29.96760)</td>
<td>2.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2023-04-22T21:17:45.986Z</td>
<td>-0.9589</td>
<td>98.4839</td>
<td>10.000</td>
<td>5.7</td>
<td>POINT (98.48390 -0.95890)</td>
<td>1.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2023-04-22T17:09:45.448Z</td>
<td>-0.7645</td>
<td>98.5780</td>
<td>27.385</td>
<td>5.8</td>
<td>POINT (98.57800 -0.76450)</td>
<td>1.3</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>Plottar på nytt. Merk at me endrar typen til <code>scatter</code> som gjer at markørstorleiken får eit anna argument <code>s</code> i staden for <code>markersize</code>. Prøv deg gjerne fram for å finna ein fin verdi for storleiken. Eg endte opp med <code>3*skjelv_gdf["markør"]**4</code>.</p>
<div id="cell-34" class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># bakgrunnskart</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>world <span class="op">=</span> gpd.read_file(gpd.datasets.get_path(<span class="st">"naturalearth_lowres"</span>))</span>
<span id="cb19-3"><a href="#cb19-3"></a></span>
<span id="cb19-4"><a href="#cb19-4"></a>base <span class="op">=</span> world.plot(color <span class="op">=</span> <span class="st">"bisque"</span>, </span>
<span id="cb19-5"><a href="#cb19-5"></a>                  edgecolor <span class="op">=</span> <span class="st">"gray"</span>, </span>
<span id="cb19-6"><a href="#cb19-6"></a>                  figsize <span class="op">=</span> (<span class="dv">14</span>, <span class="dv">8</span>)</span>
<span id="cb19-7"><a href="#cb19-7"></a>                 )</span>
<span id="cb19-8"><a href="#cb19-8"></a></span>
<span id="cb19-9"><a href="#cb19-9"></a><span class="co"># plottar skjelva</span></span>
<span id="cb19-10"><a href="#cb19-10"></a>skjelv_gdf.plot(ax <span class="op">=</span> base, </span>
<span id="cb19-11"><a href="#cb19-11"></a>                kind <span class="op">=</span> <span class="st">"scatter"</span>, </span>
<span id="cb19-12"><a href="#cb19-12"></a>                x <span class="op">=</span> <span class="st">"longitude"</span>, </span>
<span id="cb19-13"><a href="#cb19-13"></a>                y <span class="op">=</span> <span class="st">"latitude"</span>,</span>
<span id="cb19-14"><a href="#cb19-14"></a>                marker <span class="op">=</span> <span class="st">"o"</span>,</span>
<span id="cb19-15"><a href="#cb19-15"></a>                color <span class="op">=</span> <span class="st">"salmon"</span>,</span>
<span id="cb19-16"><a href="#cb19-16"></a>                s <span class="op">=</span> <span class="dv">3</span><span class="op">*</span>skjelv_gdf[<span class="st">"markør"</span>]<span class="op">**</span><span class="dv">4</span>, <span class="co"># størrelse på pkt. </span></span>
<span id="cb19-17"><a href="#cb19-17"></a>                edgecolor <span class="op">=</span> <span class="st">"maroon"</span>,</span>
<span id="cb19-18"><a href="#cb19-18"></a>                alpha <span class="op">=</span> <span class="fl">0.6</span> <span class="co"># gjennomsiktighet</span></span>
<span id="cb19-19"><a href="#cb19-19"></a>               )</span>
<span id="cb19-20"><a href="#cb19-20"></a></span>
<span id="cb19-21"><a href="#cb19-21"></a>plt.title(<span class="st">"Jordskjelv sterkare enn 5,5 frå 1982 - 2023 </span><span class="ch">\n</span><span class="st">"</span>, fontsize <span class="op">=</span> <span class="dv">22</span>)</span>
<span id="cb19-22"><a href="#cb19-22"></a>plt.xlabel(<span class="st">"Lengdegrad"</span>, fontsize <span class="op">=</span> <span class="dv">16</span>)</span>
<span id="cb19-23"><a href="#cb19-23"></a>plt.ylabel(<span class="st">"Breiddegrad"</span>, fontsize <span class="op">=</span> <span class="dv">16</span>)</span>
<span id="cb19-24"><a href="#cb19-24"></a><span class="co">#plt.savefig("jordskjelv_verda_styrke.png", dpi = 300) # &lt;-- bruk denne for å lagra figuren</span></span>
<span id="cb19-25"><a href="#cb19-25"></a>plt.show()</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/cell-16-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="avgrense-område" class="level2">
<h2 class="anchored" data-anchor-id="avgrense-område">Avgrense område</h2>
<p>For å få betre oversikt kan me zooma inn på eit avgrensa område av jorda. Me kan t.d. sjå på områda rundt Indonesia. Les av omtrentlege lengde- og breddegrader på oversiktskartet. Legg avgrensingane inn som eigne variablar, slik at det er lett å endra dei seinare.</p>
<div id="cell-36" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># Avgrensingar for rådata og kartplotting</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>lat_min <span class="op">=</span> <span class="op">-</span><span class="dv">25</span></span>
<span id="cb20-3"><a href="#cb20-3"></a>lat_maks <span class="op">=</span> <span class="dv">60</span></span>
<span id="cb20-4"><a href="#cb20-4"></a>long_min <span class="op">=</span> <span class="dv">80</span></span>
<span id="cb20-5"><a href="#cb20-5"></a>long_maks <span class="op">=</span> <span class="dv">170</span></span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Bruker vidare avgrensingane til å sortera ut ein eigen tabell med dei aktuelle skjelva.</p>
<div id="cell-38" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1"></a><span class="co"># lagar ny gdf til avgrensa område</span></span>
<span id="cb21-2"><a href="#cb21-2"></a>område_skjelv <span class="op">=</span> skjelv_gdf[(skjelv_gdf.latitude <span class="op">&gt;</span> lat_min) </span>
<span id="cb21-3"><a href="#cb21-3"></a>                           <span class="op">&amp;</span> (skjelv_gdf.latitude <span class="op">&lt;</span> lat_maks)</span>
<span id="cb21-4"><a href="#cb21-4"></a>                           <span class="op">&amp;</span> (skjelv_gdf.longitude <span class="op">&gt;</span> long_min) </span>
<span id="cb21-5"><a href="#cb21-5"></a>                           <span class="op">&amp;</span> (skjelv_gdf.longitude <span class="op">&lt;</span> long_maks)</span>
<span id="cb21-6"><a href="#cb21-6"></a>                          ]</span>
<span id="cb21-7"><a href="#cb21-7"></a></span>
<span id="cb21-8"><a href="#cb21-8"></a>område_skjelv.shape</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="57">
<pre><code>(9302, 7)</code></pre>
</div>
</div>
<p>Her ser me at me framleis har 9302 skjelv i tabellen, så omlag halvparten av dei 20 000 skjelva er frå det avgrensa området. Tar me ein kikk på dei 10 første linjene så ser me at indeksen ikkje er heilt i orden.</p>
<div id="cell-40" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1"></a>område_skjelv.head(<span class="dv">10</span>)</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="59">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">depth</th>
<th data-quarto-table-cell-role="th">mag</th>
<th data-quarto-table-cell-role="th">geometry</th>
<th data-quarto-table-cell-role="th">markør</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2023-04-24T20:00:55.086Z</td>
<td>-0.7810</td>
<td>98.5339</td>
<td>15.462</td>
<td>7.1</td>
<td>POINT (98.53390 -0.78100)</td>
<td>2.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2023-04-22T21:17:45.986Z</td>
<td>-0.9589</td>
<td>98.4839</td>
<td>10.000</td>
<td>5.7</td>
<td>POINT (98.48390 -0.95890)</td>
<td>1.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2023-04-22T17:09:45.448Z</td>
<td>-0.7645</td>
<td>98.5780</td>
<td>27.385</td>
<td>5.8</td>
<td>POINT (98.57800 -0.76450)</td>
<td>1.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>2023-04-22T09:15:54.527Z</td>
<td>-5.3425</td>
<td>125.6370</td>
<td>20.667</td>
<td>5.5</td>
<td>POINT (125.63700 -5.34250)</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>2023-04-22T08:23:42.518Z</td>
<td>-5.2697</td>
<td>125.5950</td>
<td>7.270</td>
<td>6.0</td>
<td>POINT (125.59500 -5.26970)</td>
<td>1.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8</td>
<td>2023-04-21T10:21:13.739Z</td>
<td>2.7929</td>
<td>127.0480</td>
<td>24.575</td>
<td>5.9</td>
<td>POINT (127.04800 2.79290)</td>
<td>1.4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>2023-04-19T09:06:05.200Z</td>
<td>-5.9994</td>
<td>149.6062</td>
<td>55.674</td>
<td>6.3</td>
<td>POINT (149.60620 -5.99940)</td>
<td>1.8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>2023-04-18T02:40:53.003Z</td>
<td>54.1600</td>
<td>159.9190</td>
<td>110.846</td>
<td>5.6</td>
<td>POINT (159.91900 54.16000)</td>
<td>1.1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>2023-04-17T11:05:55.474Z</td>
<td>-4.8912</td>
<td>102.9538</td>
<td>58.386</td>
<td>5.5</td>
<td>POINT (102.95380 -4.89120)</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>2023-04-15T15:07:06.934Z</td>
<td>-4.8648</td>
<td>102.9744</td>
<td>56.688</td>
<td>5.5</td>
<td>POINT (102.97440 -4.86480)</td>
<td>1.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>Ikkje at det er veldig viktig no, men om me vil så kan me ordna dette lett.</p>
<div id="cell-42" class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1"></a>område_skjelv <span class="op">=</span> område_skjelv.reset_index(drop<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb24-2"><a href="#cb24-2"></a>område_skjelv.head(<span class="dv">10</span>)</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="60">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">depth</th>
<th data-quarto-table-cell-role="th">mag</th>
<th data-quarto-table-cell-role="th">geometry</th>
<th data-quarto-table-cell-role="th">markør</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2023-04-24T20:00:55.086Z</td>
<td>-0.7810</td>
<td>98.5339</td>
<td>15.462</td>
<td>7.1</td>
<td>POINT (98.53390 -0.78100)</td>
<td>2.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2023-04-22T21:17:45.986Z</td>
<td>-0.9589</td>
<td>98.4839</td>
<td>10.000</td>
<td>5.7</td>
<td>POINT (98.48390 -0.95890)</td>
<td>1.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2023-04-22T17:09:45.448Z</td>
<td>-0.7645</td>
<td>98.5780</td>
<td>27.385</td>
<td>5.8</td>
<td>POINT (98.57800 -0.76450)</td>
<td>1.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2023-04-22T09:15:54.527Z</td>
<td>-5.3425</td>
<td>125.6370</td>
<td>20.667</td>
<td>5.5</td>
<td>POINT (125.63700 -5.34250)</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2023-04-22T08:23:42.518Z</td>
<td>-5.2697</td>
<td>125.5950</td>
<td>7.270</td>
<td>6.0</td>
<td>POINT (125.59500 -5.26970)</td>
<td>1.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>2023-04-21T10:21:13.739Z</td>
<td>2.7929</td>
<td>127.0480</td>
<td>24.575</td>
<td>5.9</td>
<td>POINT (127.04800 2.79290)</td>
<td>1.4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>2023-04-19T09:06:05.200Z</td>
<td>-5.9994</td>
<td>149.6062</td>
<td>55.674</td>
<td>6.3</td>
<td>POINT (149.60620 -5.99940)</td>
<td>1.8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>2023-04-18T02:40:53.003Z</td>
<td>54.1600</td>
<td>159.9190</td>
<td>110.846</td>
<td>5.6</td>
<td>POINT (159.91900 54.16000)</td>
<td>1.1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>2023-04-17T11:05:55.474Z</td>
<td>-4.8912</td>
<td>102.9538</td>
<td>58.386</td>
<td>5.5</td>
<td>POINT (102.95380 -4.89120)</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>2023-04-15T15:07:06.934Z</td>
<td>-4.8648</td>
<td>102.9744</td>
<td>56.688</td>
<td>5.5</td>
<td>POINT (102.97440 -4.86480)</td>
<td>1.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<section id="plotte-avgrensa-område" class="level3">
<h3 class="anchored" data-anchor-id="plotte-avgrensa-område">Plotte avgrensa område</h3>
<p>No kan me plotta det avgrensa området. Bruker variablane med grensene for å tilpassa bakgrunnskartet.</p>
<div id="cell-44" class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1"></a>base <span class="op">=</span> world.plot(color<span class="op">=</span><span class="st">"lightgrey"</span>,</span>
<span id="cb25-2"><a href="#cb25-2"></a>                  edgecolor<span class="op">=</span><span class="st">"black"</span>, </span>
<span id="cb25-3"><a href="#cb25-3"></a>                  figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">10</span>),</span>
<span id="cb25-4"><a href="#cb25-4"></a>                 )</span>
<span id="cb25-5"><a href="#cb25-5"></a></span>
<span id="cb25-6"><a href="#cb25-6"></a>base.set_ylim([lat_min, lat_maks])</span>
<span id="cb25-7"><a href="#cb25-7"></a>base.set_xlim([long_min, long_maks])</span>
<span id="cb25-8"><a href="#cb25-8"></a></span>
<span id="cb25-9"><a href="#cb25-9"></a>område_skjelv.plot(ax <span class="op">=</span> base, </span>
<span id="cb25-10"><a href="#cb25-10"></a>                   color <span class="op">=</span> <span class="st">"red"</span>,</span>
<span id="cb25-11"><a href="#cb25-11"></a>                   markersize <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb25-12"><a href="#cb25-12"></a>                  )</span>
<span id="cb25-13"><a href="#cb25-13"></a></span>
<span id="cb25-14"><a href="#cb25-14"></a>plt.show()</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/cell-21-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>På denne figuren ser me at det er nokre område der skjelva dekker breiare linjer enn ellers. Prøver å få fram kor djupe dei ulike skjelva er. Me deler inn datamaterialet i grunne, middels og djupe skjelv, med 30 km og 300 km som grenser mellom dei tre kategoriane.</p>
<div id="cell-46" class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1"></a>område_djup <span class="op">=</span> område_skjelv[(område_skjelv.depth <span class="op">&gt;</span> <span class="dv">300</span>)]</span>
<span id="cb26-2"><a href="#cb26-2"></a>område_middels <span class="op">=</span> område_skjelv[(område_skjelv.depth <span class="op">&lt;=</span> <span class="dv">300</span>)</span>
<span id="cb26-3"><a href="#cb26-3"></a>                               <span class="op">&amp;</span> (område_skjelv.depth <span class="op">&gt;</span> <span class="dv">30</span>)]</span>
<span id="cb26-4"><a href="#cb26-4"></a>område_grunn <span class="op">=</span> område_skjelv[(område_skjelv.depth <span class="op">&lt;=</span> <span class="dv">30</span>)]</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Desse nye <code>gdf</code>-ane kan me plotta på oversiktskart over regionen:</p>
<div id="cell-48" class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1"></a><span class="co"># bakgrunnskart</span></span>
<span id="cb27-2"><a href="#cb27-2"></a>base <span class="op">=</span> world.plot(color<span class="op">=</span><span class="st">"linen"</span>,</span>
<span id="cb27-3"><a href="#cb27-3"></a>                  edgecolor<span class="op">=</span><span class="st">"dimgray"</span>, </span>
<span id="cb27-4"><a href="#cb27-4"></a>                  figsize<span class="op">=</span>(<span class="dv">9</span>,<span class="dv">9</span>),</span>
<span id="cb27-5"><a href="#cb27-5"></a>                 )</span>
<span id="cb27-6"><a href="#cb27-6"></a></span>
<span id="cb27-7"><a href="#cb27-7"></a><span class="co"># avgrensing (til området)</span></span>
<span id="cb27-8"><a href="#cb27-8"></a>base.set_ylim([lat_min, lat_maks])</span>
<span id="cb27-9"><a href="#cb27-9"></a>base.set_xlim([long_min, long_maks])</span>
<span id="cb27-10"><a href="#cb27-10"></a></span>
<span id="cb27-11"><a href="#cb27-11"></a><span class="co"># plotte skjelva</span></span>
<span id="cb27-12"><a href="#cb27-12"></a>område_djup.plot(ax <span class="op">=</span> base, color<span class="op">=</span><span class="st">"dodgerblue"</span>, markersize<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb27-13"><a href="#cb27-13"></a>område_middels.plot(ax <span class="op">=</span> base, color<span class="op">=</span><span class="st">"gold"</span>, markersize<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb27-14"><a href="#cb27-14"></a>område_grunn.plot(ax <span class="op">=</span> base, color<span class="op">=</span><span class="st">"red"</span>, markersize<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb27-15"><a href="#cb27-15"></a></span>
<span id="cb27-16"><a href="#cb27-16"></a><span class="co"># pynt</span></span>
<span id="cb27-17"><a href="#cb27-17"></a>plt.title(<span class="st">"</span><span class="ch">\n</span><span class="st">Jordskjelv vest i Stillehavet</span><span class="ch">\n</span><span class="st">"</span>, fontsize <span class="op">=</span> <span class="dv">22</span>)</span>
<span id="cb27-18"><a href="#cb27-18"></a>plt.xlabel(<span class="st">"Lengdegrad"</span>, fontsize <span class="op">=</span> <span class="dv">16</span>)</span>
<span id="cb27-19"><a href="#cb27-19"></a>plt.ylabel(<span class="st">"Breiddegrad"</span>, fontsize <span class="op">=</span> <span class="dv">16</span>)</span>
<span id="cb27-20"><a href="#cb27-20"></a>plt.legend([<span class="st">"djupe ($d &gt; 300 km$)"</span>, </span>
<span id="cb27-21"><a href="#cb27-21"></a>           <span class="st">"middels ($30 km &lt; d \leq 300 km$)"</span>,</span>
<span id="cb27-22"><a href="#cb27-22"></a>           <span class="st">"grunne ($d \leq 30 km$)"</span></span>
<span id="cb27-23"><a href="#cb27-23"></a>           ])</span>
<span id="cb27-24"><a href="#cb27-24"></a>plt.savefig(<span class="st">"jordskjelv_stillehavet_djupne.png"</span>, dpi<span class="op">=</span><span class="dv">200</span>, bbox_inches<span class="op">=</span><span class="st">"tight"</span>)</span>
<span id="cb27-25"><a href="#cb27-25"></a>plt.show()</span></code><button title="Kopier til utklippstavla" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/cell-23-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Legg merke til <span class="math inline">\(\LaTeX\)</span>-formateringa <code>middels ($30 km &lt; d \leq 300 km$</code> i teiknforklaringa.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tips
</div>
</div>
<div class="callout-body-container callout-body">
<p>Figurar som dei me har laga her, i sjølvvalde område, er supert utgangspunkt for vurdering (videopresentasjon, fagsamtale e.l.). Då kan elevane forklara kva dei ulike figurane viser, <code>kvifor</code> dei ser ut som dei gjer, og vidare gjera greie for aktuelle fagomgrep og prosessar knytt til dette.</p>
<ul>
<li>Kva mønster ser du i styrken på skjelva? Kva kan vera årsaken til det?</li>
<li>Kva mønster ser du i djupna på skjelva? Kva fortel det oss? Er det samanhengar mellom dei to figurane?</li>
</ul>
</div>
</div>


</section>
</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Gjenbruk</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="lektorodd/lektorodd.github.io" data-repo-id="R_kgDOI1N_fg" data-category="General" data-category-id="DIC_kwDOI1N_fs4CT23b" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
<input type="hidden" id="giscus-base-theme" value="light">
<input type="hidden" id="giscus-alt-theme" value="dark">
</div> <!-- /content -->




</body></html>